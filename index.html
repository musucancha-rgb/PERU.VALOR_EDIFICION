<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Calculadora del Valor de la Edificación 2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

  <!-- PWA -->
  <link rel="manifest" href="/PERU.VALOR_EDIFICACION/manifest.webmanifest">
  <meta name="theme-color" content="#ffffff">

  <!-- iOS (para icono y modo app) -->
  <link rel="apple-touch-icon" href="/PERU.VALOR_EDIFICACION/icons/icon-192.jpg">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    body { font-family: 'Inter', sans-serif; }
    
    .custom-scroll::-webkit-scrollbar { width: 6px; }
    .custom-scroll::-webkit-scrollbar-track { background: transparent; }
    .custom-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
    
    #map { z-index: 0; height: 100vh; width: 100vw; }
    
    /* Panel animado */
    .panel-hidden { opacity: 0; transform: translateX(-100%); pointer-events: none; }
    .panel-visible { opacity: 1; transform: translateX(0); pointer-events: auto; }

    @media (max-width: 768px) {
        .panel-hidden { opacity: 0; transform: scale(0.95); pointer-events: none;}
    }

    /* Estilos de impresión para reporte */
    @media print {
        #map, #toggleSideBtn { display: none; }
        #uiContainer { position: relative; width: 100%; height: auto; overflow: visible; padding: 0; }
        #mainPanel { max-height: none; height: auto; box-shadow: none; border: none; width: 100%; max-width: 100%; overflow: visible; }
        .no-print { display: none !important; }
        body { background: white; overflow: visible; }
        .custom-scroll { overflow: visible; }
    }
    
    /* Input numérico limpio */
    input[type=number]::-webkit-inner-spin-button, 
    input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
  </style>
</head>

<body class="bg-gray-100 overflow-hidden relative">

  <!-- BOTÓN DE CONTROL LATERAL -->
  <button id="toggleSideBtn" class="absolute left-0 top-1/2 transform -translate-y-1/2 z-[2000] bg-white text-blue-700 w-8 h-20 rounded-r-xl shadow-xl border-y border-r border-gray-300 flex items-center justify-center hover:bg-blue-50 transition-all duration-300 focus:outline-none group">
    <i id="toggleIcon" class="fa-solid fa-chevron-left text-
